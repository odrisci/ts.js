/*! ts v0.0.0 - 2014-07-02 
 * License: MIT */
!function(a){function b(){}var c=a.ts={version:"0.0.0"};c.timeSeries=function(){var a=[],c=new b;return c.splice=function(d){var e,f;if(d instanceof b)e=d.data();else{if(!(d instanceof Array))return alert("input must be a timeSeries or an array of [timestamp, value] pairs"),c;for(e=d,f=0;f<e.length;++f){if(!(e[f]instanceof Array))return alert("input must be a valid time series"),c;e[f][0]=+e[f][0]}}if(0===e.length)return c;f=a.length;for(var g=0;f>1&&a[f-1][0]>e[0][0];)f--;for(;g<e.length;){for(var h=e.length;f<a.length&&a[f][0]<=e[g][0];)++f;if(f<a.length)for(;h>g&&a[f][0]<e[h-1][0];)h--;var i=[f,0].concat(e.slice(g,h));Array.prototype.splice.apply(a,i),g=h}return c},c.insert=function(b,d){var e=a.length-1;if(0>e)return a.push(b,d),this;for(;e>0&&a[e][0]>b;)e--;return a[e][0]===b?a[e][1]=d:a.splice(e+1,0,[b,d]),c},c.data=function(){return a},c.getValueNearest=function(b){if(0===a.length)return[];var c=a.slice();return c.sort(function(a,c){return Math.abs(a[0]-b)-Math.abs(c[0]-b)}),c[0]},c.getValuesInRange=function(b,c){for(var d=0,e=a.length;d<a.length&&a[d][0]<b;)++d;for(;e>1&&a[e-1][0]>=c;)--e;return a.slice(d,e)},c.dropDataBefore=function(b){for(var d=0;d<a.length&&a[d][0]<b;)d++;return a.splice(0,d),c},c}}(this);